# LMS Engine API: Платформа управления онлайн-обучением

LMS Engine API — это мощный бэкенд для образовательных платформ, реализующий управление курсами, уроками и платежами. Проект построен на Django REST Framework (DRF) и включает в себя продвинутые интеграции для автоматизации бизнес-процессов.

## Технологический стек

* Backend: Python 3.13+, Django 5.2+.
* API Framework: Django REST Framework (DRF).
* Безопасность: JWT (SimpleJWT) для аутентификации.
* Асинхронность: Celery + Redis для фоновых задач и периодических рассылок.
* Платежи: Интеграция со Stripe API.
* Документация: Swagger/Redoc (через drf-yasg).
* Управление зависимостями: Poetry.

## Ключевой функционал и архитектура

### 1. Управление контентом (Materials)
Реализована иерархическая структура Курс -> Урок. Для гибкости используются как ViewSets (для курсов), так и Generics (для уроков). Реализована кастомная пагинация для удобного вывода списков.

### 2. Продвинутая система прав (Permissions)
Доступ к данным строго разграничен:
* Модераторы (IsModer): Могут просматривать и редактировать любые курсы/уроки, но не могут их создавать или удалять.
* Владельцы (IsOwner): Имеют полный доступ только к своему контенту.
* Анонимные пользователи: Доступ полностью закрыт.

### 3. Фоновые задачи и уведомления
С помощью Celery реализован механизм отложенных задач:
* Автоматическая проверка обновлений курсов.
* Рассылка уведомлений пользователям о добавлении нового контента.
* Использование django-celery-beat для планирования периодических процессов.

### 4. Интеграция со Stripe
Реализована логика оплаты курсов и уроков через внешнюю систему Stripe. API создает платежные сессии, отслеживает статусы и обеспечивает безопасное проведение транзакций.

### 5. Валидация и безопасность
* Реализована проверка ссылок на видео: система разрешает публикацию только видео с YouTube.
* JWT-токены обеспечивают безопасный обмен данными между клиентом и сервером.

## Быстрый старт

1. Клонируйте проект:
   ```git clone https://github.com/ваш-логин/lms-api-master.git```

2. Настройте переменные окружения (.env):
   SECRET_KEY=...
   STRIPE_API_KEY=ваш_ключ_stripe
   CELERY_BROKER_URL=redis://localhost:6379/0
   POSTGRES_DB, POSTGRES_USER, POSTGRES_PASSWORD...

3. Установите зависимости:
   ```poetry install```

4. Примените миграции:
   ```python manage.py migrate```

5. Запуск Celery (в отдельном терминале):
   ```celery -A config worker -l info```

6. Запуск сервера:
   ```python manage.py runserver```

## API Документация
После запуска документация доступна по адресам:
* Swagger: /swagger/
* Redoc: /redoc/
